<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>add</title>
    <link rel="icon" href="../../../static/favicon.ico" />
    <link href="../../../static/css/css.css" rel="stylesheet" type="text/css">
    <script src="../../../static/js/jquery-1.11.3.min.js"></script>
    <script src="../../../static/js/jquery.slides.min.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #d1{
            width: 400px;
            height: 480px;
            border: solid 0px red;
            margin: 0 auto;
            margin-top: 10%;
            margin-left: 35%;
            position: absolute;
            background-color: #eee;
            border-radius: 20px;
        }
        #d2{
            width: 300px;
            height: 300px;
            border: solid 0px blue;
            margin: 0 auto;
            margin-top: 5%;
            margin-left: 70px;
            position: relative;
        }
        #d2{
            /* 父元素相对 */
            position: relative;
        }
        #d2 figure{
            /* 子元素绝对 */
            position: absolute;
        }
        #d2 figure:nth-child(2){
            left: 4px;
            top: 4px;
        }
        #d2 figure:nth-child(3){
            left: 8px;
            top: 8px;
        }
        #d2 figure:nth-child(4){
            left: 12px;
            top: 12px;
        }
        #d2 figure:nth-child(5){
            left: 16px;
            top: 16px;
        }
        #d2 figure:nth-child(6){
            left: 20px;
            top: 20px;
        }
        #d2 figure:nth-child(7){
            left: 24px;
            top: 24px;
        }
        #d2 figure:nth-child(8){
            left: 24px;
            top: 28px;
        }
        #d2 figure:nth-child(9){
            left: 20px;
            top: 32px;
        }
        #d2 figure:nth-child(10){
            left: 16px;
            top: 36px;
        }
        #d2 figure:nth-child(11){
            left: 12px;
            top: 40px;
        }
        #d2 figure:nth-child(12){
            left: 8px;
            top: 44px;
        }
        #d2 figure:nth-child(13){
            left: 4px;
            top: 48px;
        }
        #d2 figure:hover{
            z-index: 0;
        }
        #d2 figure img{
            width: 240px;
            height: 280px;
        }
        #a1,#a2{
            width: 400px;
            height: 900px;
            border: solid 0px rgb(219, 211, 211);
            position: fixed;
        }
        #a1{
            left: 0;
        }
        #a2{
            right: 0;
        }
        #a3{
            margin-left: 290px;
            margin-top: 5px;
        }
        img{
            border-radius: 20px;
        }
        #d1 p{
            margin-top: 10px;
            margin-left: 40px;
        }
    </style>
</head>
<body>
<div class="header fixed">
        <div class="container clearfix">
            <div class="logo">
                <a href="javascript:;">
                    <img src="../../../static/images/logo.png" alt="not find this pic">
                </a>
            </div>
            <div class="nav_btn_box">
                <p class="nav_btn">售前热线：025-58830029</p>
                <p style="text-align: center;color: #aaa;line-height: 28px">周一至周五9：00-18：00</p>
            </div>
            <ul class="nav">
                <li>
                    <a href="/index" class="mainpage">首页</a>
                </li>
                <li>
                    <a class="nav_more" href="../../product">产品</a>
                </li>
                <li>
                    <a href="../tec/tec" class="technology">技术架构</a>
                </li>
                <li>
                    <a href="about.html" class="about">关于我们</a>
                </li>
            </ul>
        </div>
    </div>
        <div id="a1" ></div>
        <div id="a2"></div>
<div id="d1">
    <P>留下你的昵称吧：<input id="username" type="text"></P>
    <a href="../tec/show"><button id="a3">查看我的选择</button></a>
    <div id="d2">
        <figure><img id="Tec-13" draggable="true" src="../../../static/images/solutions_img02.jpg" ></figure>
        <figure><img id="Tec-12" draggable="true" src="../../../static/images/solutions_img12.jpg" ></figure>
        <figure><img id="Tec-11" draggable="true" src="../../../static/images/solutions_img03.jpg" ></figure>
        <figure><img id="Tec-10" draggable="true" src="../../../static/images/solutions_img07.jpg" ></figure>
        <figure><img id="Tec-9" draggable="true" src="../../../static/images/solutions_img08.jpg" ></figure>
        <figure><img id="Tec-8" draggable="true" src="../../../static/images/solutions_img09.jpg" ></figure>
        <figure><img id="Tec-7" draggable="true" src="../../../static/images/solutions_img10.jpg" ></figure>
        <figure><img id="Tec-6" draggable="true" src="../../../static/images/solutions_img11.jpg" ></figure>
        <figure><img id="Tec-5" draggable="true" src="../../../static/images/solutions_img01.jpg" ></figure>
        <figure><img id="Tec-4" draggable="true" src="../../../static/images/advantage_pic01.jpg" ></figure>
        <figure><img id="Tec-3" draggable="true" src="../../../static/images/advantage_pic02.jpg" ></figure>
        <figure><img id="Tec-2" draggable="true" src="../../../static/images/advantage_pic03.jpg" ></figure>
        <figure><img id="Tec-1" draggable="true" src="../../../static/images/advantage_pic04.jpg" ></figure>
    </div>
</div>
<script src="../../../static/js/jquery-1.11.3.js"></script>
<script src="../../../static/js/mycommon.js"></script>
</body>
<script type="text/javascript">
     //传数据库
    function sendSql(img_id,username,like) {
        var xhr = createXhr();
        var params = [img_id,username,like];
        var url = '/tec/get_img_id?params=' + params;
        console.log(url)
        xhr.open('get', url, true);
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                var res = xhr.responseText;
                //alert(params);
            }
        };
        xhr.send(null);
    }
window.onload=function() {
    var fig = document.getElementsByTagName('img');
    var ddiv1 = document.getElementById('a1');
    var ddiv2 = document.getElementById('a2')
    var tarfig = null

    for (var i = 0; i < fig.length; i++) {
        fig[i].ondragstart = function (ev) {
            tarfig = this;
        }
    }
    ddiv2.ondragover = function (ev) {
        ev.preventDefault()
    }
    ddiv2.ondrop = function () {
        console.log(tarfig.id)
        //存入数据库，不喜欢，id
        img_id = tarfig.id//你的图片id
        username = document.getElementById('username').value
        like = true;//喜欢
        sendSql(img_id, username,like)
        tarfig.parentNode.removeChild(tarfig);
    }
    ddiv1.ondragover = function (ev) {
        ev.preventDefault()
    }
    ddiv1.ondrop = function () {
        {#console.log(tarfig.id)#}
        img_id = tarfig.id//你的图片id
        username = document.getElementById('username').value
        like = false;//不喜欢
        sendSql(img_id, username,like)
        tarfig.parentNode.removeChild(tarfig);
    }
}


</script>
</html>
